

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>(R, s, S) Inventory Simulation &#8212; Supply Chain Analytics - Case Studies and Demos with Code</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/Ex_Lecture_Demo_Inventory_Sim';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bass Diffusion - full demo" href="Ex_Bass_diffusion_full_demo.html" />
    <link rel="prev" title="Demo: Supply Chain Distruption Risk Analytics" href="Case3_1_Disruption_Risk_Analytics.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/sc_analytics_logo_small.png" class="logo__image only-light" alt="Supply Chain Analytics - Case Studies and Demos with Code - Home"/>
    <script>document.write(`<img src="../_static/sc_analytics_logo_small.png" class="logo__image only-dark" alt="Supply Chain Analytics - Case Studies and Demos with Code - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Case studies and Demos</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Case1_retails_intro.html">Case: Retail analytics - Rue La La</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="Case1_1_Simple_Retail_Demand_Model.html">Demo: Simplified retail prediction pipeline for a single item</a></li>
<li class="toctree-l2"><a class="reference internal" href="Case1_2_Module1A_Retail_Demand_Model.html">Module 1A: Retail predictive model pipeline for multiple items</a></li>
<li class="toctree-l2"><a class="reference internal" href="Case1_3_Module1B_Retail_Demand_Predict.html">Module 1B: Predicting demands from trained models for decision models</a></li>
<li class="toctree-l2"><a class="reference internal" href="Case1_4_Module2A_Retail_Price_Optimization.html">Module 2A: Retail price optimization - Simple Explicit Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="Case1_5_Module2B_Retail_Price_Optimization_Script.html">Module 2B: Retail price optimization - Automated Implicit Model</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Case2_online_fulfillment.html">Case: Online fulfillment - US online retail</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="Case2_1_Module1_Online_Fulfillment_Script.html">Demo: Online Fulfillment</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Case3_disruption_analytics.html">Case: Disruption Analytics - Ford Motor</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="Case3_1_Disruption_Risk_Analytics.html">Demo: Supply Chain Distruption Risk Analytics</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Additional Examples of Analytics Techniques in Supply Chains</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">(R, s, S) Inventory Simulation</a></li>

<li class="toctree-l1"><a class="reference internal" href="Ex_Bass_diffusion_full_demo.html">Bass Diffusion - full demo</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/docs/Ex_Lecture_Demo_Inventory_Sim.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>(R, s, S) Inventory Simulation</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">(R, s, S) Inventory Simulation</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inventory-simulation-using-pandas">Inventory simulation using pandas</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-reading-data">Step 1: Reading data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-simulation-and-output-a-dataframe-object">Step 2: Simulation and output a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> object</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-plotting-data">Step 3: Plotting data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-summarizing-the-results">Step 4: Summarizing the results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#playing-with-the-code">Playing with the code:</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="r-s-s-inventory-simulation">
<h1>(R, s, S) Inventory Simulation<a class="headerlink" href="#r-s-s-inventory-simulation" title="Permalink to this heading">#</a></h1>
<p>The (R, s, S) inventory policy is a type of periodic review inventory control system. It involves three key decision variables:</p>
<p><strong>- Review Period (R):</strong> The time interval between inventory checks.
<strong>- Reorder Point (s):</strong> The level of inventory at which a replenishment order is placed.
<strong>- Target level (S):</strong> The target level of inventory position to be reached when an order is placed.</p>
<p>How it Works:</p>
<p>Inventory Review: Inventory levels are checked at regular intervals (R).
Order Placement: If the inventory level is below or equal to the reorder point (s), an order is placed until the inventory position (current inventory plus incoming order) reaches the level S.
Replenishment: The ordered items are received and added to inventory.</p>
<p>The (R, s, S) policy is widely adopted due to its simplicity, practicality, and effectiveness as it is easy to understand and implement. It can be adapted to various inventory situations and reduces the need for constant inventory monitoring.</p>
<p>Optimizing an (R, s, S) inventory policy, a common inventory control method, can be challenging due to several factors:</p>
<p><strong>- Uncertainty:</strong> Demand is often uncertain, making it difficult to predict future needs accurately. This uncertainty can lead to stockouts or excess inventory.
Interdependencies: Inventory decisions are often interconnected with other operational factors, such as production capacity, transportation costs, and customer service levels. Optimizing one factor may negatively impact another.
<strong>- Complexity:</strong> The (R, s, S) policy involves three decision variables: review period (R), reorder point (s), and target level (S). Finding the optimal combination of these variables can be computationally intensive.
<strong>- Multiple Objectives:</strong> Inventory management often involves competing objectives, such as minimizing costs, maximizing service levels, and reducing stockouts. Balancing these objectives can be challenging.</p>
<p>Thus, simulation can be a valuable tool for addressing these challenges:</p>
<p><strong>- Modeling Uncertainty:</strong> Simulation can model demand uncertainty using probability distributions, allowing for a better understanding of potential outcomes.
<strong>- Testing Different Scenarios:</strong> By running multiple simulations with different parameter values, decision-makers can evaluate the impact of various (R, s, S) policies on performance metrics like costs, service levels, and stockouts.
<strong>- Identifying Trade-offs:</strong> Simulation can help identify trade-offs between different objectives, allowing decision-makers to make informed choices.
<strong>- Optimization:</strong> Simulation can be integrated with optimization algorithms to find near-optimal (R, s, S) policies.</p>
<p>In summary, simulation offers a flexible and powerful approach to optimizing (R, s, S) inventory policies by providing insights into uncertain demand, evaluating the impact of different policies, and helping to balance competing objectives.</p>
<hr class="docutils" />
<p>This notebook provides an example of the use of <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> to calculate the inventory performance based on estimated demand. The objective for you to review this is to <em>understand</em> what each block of codes does. Developing it by yourself requires time and experience but if you generally understand the process and codes, that would suffice.</p>
<hr class="docutils" />
</section>
<section id="inventory-simulation-using-pandas">
<h1>Inventory simulation using pandas<a class="headerlink" href="#inventory-simulation-using-pandas" title="Permalink to this heading">#</a></h1>
<p>In this exercise, you will use pandas library to simulate different inventory policies for a planning horizon of one year.</p>
<section id="step-1-reading-data">
<h2>Step 1: Reading data<a class="headerlink" href="#step-1-reading-data" title="Permalink to this heading">#</a></h2>
<p>Import the pandas library under the alias <code class="docutils literal notranslate"><span class="pre">pd</span></code>. Import the csv file <code class="docutils literal notranslate"><span class="pre">DemandSimulation.csv</span></code> into a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, and select the first column named <code class="docutils literal notranslate"><span class="pre">'Week'</span></code> as the index of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<p><strong><span class="math notranslate nohighlight">\(\color{blue}{\textbf{Hint:}}\)</span></strong> you can define the index column of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> using the <code class="docutils literal notranslate"><span class="pre">index_col</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">.read_csv()</span></code> function. Check <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html">this page</a> for more information.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># There is a csv file which I put in online. You can also download but we will load directly from the link.</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://raw.githubusercontent.com/acedesci/scanalytics/master/EN/S04_Data_Structures_2/DemandScenarios.csv&#39;</span>
<span class="n">demand_scenario_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Week&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now display the first 10 rows of your <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. You can see that the file contains first column as indexes (weeks) and each of the subsequent column contains a list of estimated demands for each scenario.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">demand_scenario_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Scenario1</th>
      <th>Scenario2</th>
      <th>Scenario3</th>
    </tr>
    <tr>
      <th>Week</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>18</td>
      <td>21</td>
      <td>17</td>
    </tr>
    <tr>
      <th>2</th>
      <td>16</td>
      <td>16</td>
      <td>15</td>
    </tr>
    <tr>
      <th>3</th>
      <td>13</td>
      <td>13</td>
      <td>11</td>
    </tr>
    <tr>
      <th>4</th>
      <td>17</td>
      <td>17</td>
      <td>16</td>
    </tr>
    <tr>
      <th>5</th>
      <td>11</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>6</th>
      <td>20</td>
      <td>23</td>
      <td>18</td>
    </tr>
    <tr>
      <th>7</th>
      <td>15</td>
      <td>17</td>
      <td>13</td>
    </tr>
    <tr>
      <th>8</th>
      <td>20</td>
      <td>20</td>
      <td>17</td>
    </tr>
    <tr>
      <th>9</th>
      <td>15</td>
      <td>16</td>
      <td>13</td>
    </tr>
    <tr>
      <th>10</th>
      <td>10</td>
      <td>10</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<hr class="docutils" />
<section id="step-2-simulation-and-output-a-dataframe-object">
<h2>Step 2: Simulation and output a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> object<a class="headerlink" href="#step-2-simulation-and-output-a-dataframe-object" title="Permalink to this heading">#</a></h2>
<p>Now, we will simulate different inventory policies based on the inventory model <span class="math notranslate nohighlight">\((s,S)\)</span> for a specific demand scenario and analyze/visualize the performance based on a given policy based on that specific demand scenario.</p>
<blockquote>
<div><p>The inventory model min-max or <span class="math notranslate nohighlight">\((s,S)\)</span> is one of the most commonly used inventory system in practice. Here are the details of the inventory system. In this one, the min/max is applied to periodic system where the inventory is checked periodically every period (e.g., once a day or once a week) (Note that this sytem can also be applied in a real-time ordering system but in practice orders would be placed periodically).</p>
<ul class="simple">
<li><p>There are two parameters that must be determined to control the inventory replenishment: <span class="math notranslate nohighlight">\(s\)</span> which represents the minimum inventory level (or reorder point), and <span class="math notranslate nohighlight">\(S\)</span> which represents the desired target inventory level.</p></li>
<li><p><strong>At the beginning of each period</strong>, this system constantly checks the inventory position (current inventory + in-transit inventory) for the product.</p></li>
<li><p>If the inventory position drops below the min level <span class="math notranslate nohighlight">\(s\)</span>, the systems create an order refill inventory to raise the inventory position to the max level <span class="math notranslate nohighlight">\(S\)</span>. The order quantity Q is then Q = S - inventory_position (recall that inventory position = current + in-transit). This order quantity arrives after the lead time.</p></li>
</ul>
</div></blockquote>
<p>In this exercise you will create a function which simulates your inventory performance for a given <span class="math notranslate nohighlight">\((s,S)\)</span> policy. This function should return a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> object containing inventory levels (at the begining and at the end of each period), orders to place and order to receive at each time period (week) of the simulated planning horizon. Here there are some instructions.</p>
<p>The function will require the following input parameters:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Series</span></code> from of one scenario from the DataFrame, which contains the simulated demand data for that specific scenario</p></li>
<li><p>(number) initial inventory level at the begining of the planning horizon</p></li>
<li><p>(number) lead time in weeks</p></li>
<li><p>(number) <span class="math notranslate nohighlight">\(s\)</span> value, i.e., minimum inventory level</p></li>
<li><p>(number) <span class="math notranslate nohighlight">\(S\)</span> value, i.e., maximun inventory level</p></li>
</ul>
<p>The output of your function should be a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with 52 rows (52 weeks) and  four columns as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'Start_Inv'</span></code>: inventory level at the beginning of each week</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'Receipt'</span></code>: units receipt at each week</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'Ending_Inv'</span></code>: inventory level at the end of each week</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'Order'</span></code>: order quantity in units</p></li>
</ul>
<p>Note that the inventory level can be negative if you have a backlog (demand is more than available quantity). In that case, the negative value is carried forward to a subsequent period to be satistied.</p>
<p><strong><span class="math notranslate nohighlight">\(\color{blue}{\textbf{Hints:}}\)</span></strong></p>
<ul class="simple">
<li><p><em>We use the method <code class="docutils literal notranslate"><span class="pre">df.index</span></code> to access the list of indexes of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> you created in the previous exercises.</em></p></li>
<li><p><em>We initialize the first row of the <code class="docutils literal notranslate"><span class="pre">'Start_Inv'</span></code> column as the initial inventory level given as input. You can also initialize the <code class="docutils literal notranslate"><span class="pre">'Receipt'</span></code> entries as <span class="math notranslate nohighlight">\(0\)</span> from the beginning of the planning horizon until the time period equals to the lead time.</em></p></li>
<li><p><em>We then use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to iterate over the planning horizon and compute the corresponding values for <code class="docutils literal notranslate"><span class="pre">'Start_Inv'</span></code>, <code class="docutils literal notranslate"><span class="pre">'Receipt'</span></code>, <code class="docutils literal notranslate"><span class="pre">'Ending_Inv'</span></code>, <code class="docutils literal notranslate"><span class="pre">'Order'</span></code>.</em></p></li>
</ul>
<p>Here we provide the remaining inputs required for the simulation</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Parameters for the model</span>
<span class="n">init_inv</span> <span class="o">=</span> <span class="mi">27</span>  <span class="c1"># initial inventory level</span>
<span class="n">lead_time</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># leadtime</span>

<span class="c1"># Parameters to set (s,S) policy</span>
<span class="n">s_min</span> <span class="o">=</span>  <span class="mi">25</span> <span class="c1"># this is the small s</span>
<span class="n">s_max</span> <span class="o">=</span>  <span class="mi">70</span> <span class="c1"># this is the big s</span>

<span class="n">demand_series</span> <span class="o">=</span> <span class="n">demand_scenario_df</span><span class="p">[</span><span class="s1">&#39;Scenario1&#39;</span><span class="p">]</span> <span class="c1"># we are taking the first scenario here</span>
<span class="n">demand_series</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Week
1    18
2    16
3    13
4    17
5    11
Name: Scenario1, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>We can create an empty DataFrame to store the results</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># creating an (empty) dataframe to keep the results</span>
<span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Start_Inv&#39;</span><span class="p">,</span> <span class="s1">&#39;Receipt&#39;</span><span class="p">,</span> <span class="s1">&#39;Demand&#39;</span><span class="p">,</span> <span class="s1">&#39;Ending_Inv&#39;</span><span class="p">,</span> <span class="s1">&#39;Order&#39;</span><span class="p">]</span>
<span class="n">n_weeks</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">demand_series</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">inv_dataframe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_weeks</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">column_names</span><span class="p">)</span>
<span class="n">inv_dataframe</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span><span class="s1">&#39;Week&#39;</span> <span class="c1"># give the index name to the output dataframe</span>
<span class="n">inv_dataframe</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Start_Inv</th>
      <th>Receipt</th>
      <th>Demand</th>
      <th>Ending_Inv</th>
      <th>Order</th>
    </tr>
    <tr>
      <th>Week</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>You can first initialize the initial inventory and also set the order receipts of the period &lt; lead time to be zero (if we order now, the earliest arrival will be after the leadtime). You can also set the demand column too.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># initializing current inventory levels and order receipt up to t=lead_time</span>
<span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Start_Inv&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">init_inv</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lead_time</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span><span class="s1">&#39;Receipt&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>

<span class="c1"># add the values to demand column from the series</span>
<span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Demand&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">demand_series</span>
<span class="n">inv_dataframe</span><span class="o">.</span><span class="n">head</span><span class="p">()</span> <span class="c1"># review the result</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Start_Inv</th>
      <th>Receipt</th>
      <th>Demand</th>
      <th>Ending_Inv</th>
      <th>Order</th>
    </tr>
    <tr>
      <th>Week</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>27</td>
      <td>0</td>
      <td>18</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>0</td>
      <td>16</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>13</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>17</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>11</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now at each iteration, we need to calculate the ending inventory at <span class="math notranslate nohighlight">\(Inv_t\)</span> from the starting inventory from the previous period <span class="math notranslate nohighlight">\(Inv_{t-1}\)</span>, quantity received and demand using the following flow conservation.</p>
<p><span class="math notranslate nohighlight">\(Inv_{t}\)</span> = <span class="math notranslate nohighlight">\(Inv_{t-1} + Receipt_{t} - Demand_{t}\)</span></p>
<p>Again, inventory can be negative if you have a backlog.</p>
<p><strong>Note:</strong> please examine the following code to understand the process. It is fine if you cannot develop it from scratch. The objective of this is to show how the process/code looks like. We try to put the comments to be as explicit as possible.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># assign values to the entries of the dataframe</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_weeks</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="c1"># computing inventory levels at the begining and end of each period</span>
    <span class="k">if</span> <span class="n">t</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># set the Start_Inv equals the inv level at the end of the previous period (Ending_Inv)</span>
        <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="s1">&#39;Start_Inv&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span>

    <span class="c1"># Calculate inventory flow for Ending_Inv of the current period</span>
    <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="s1">&#39;Start_Inv&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span><span class="s1">&#39;Receipt&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="s1">&#39;Demand&#39;</span><span class="p">]</span>

    <span class="c1"># Calculating orders and receipts for period t</span>
    <span class="n">intransit_quantity</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">t</span><span class="o">+</span><span class="n">lead_time</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;Receipt&#39;</span><span class="p">])</span> <span class="c1"># check the intransit (outstanding) order within the leadtime</span>

    <span class="k">if</span> <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span><span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">intransit_quantity</span> <span class="o">&lt;</span> <span class="n">s_min</span><span class="p">:</span> <span class="c1"># if &#39;Ending_Inv&#39; + intransit &lt; s_min in this case an order must be placed</span>
        <span class="c1"># create an order Q = s_max - current inventory position</span>
        <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span><span class="s1">&#39;Order&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">s_max</span> <span class="o">-</span> <span class="p">(</span><span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span><span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span><span class="o">+</span> <span class="n">intransit_quantity</span><span class="p">)</span>
        <span class="c1"># check if we reach the end of dataframe, if not, we add the order receipt after the leadtime</span>
        <span class="k">if</span> <span class="n">t</span> <span class="o">+</span> <span class="n">lead_time</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">(</span><span class="n">inv_dataframe</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="n">lead_time</span><span class="p">,</span><span class="s1">&#39;Receipt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span><span class="s1">&#39;Order&#39;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">,</span><span class="s1">&#39;Order&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>   <span class="c1"># no order is placed if &#39;Ending_Inv&#39; &gt;= s_min</span>
        <span class="k">if</span> <span class="n">t</span> <span class="o">+</span> <span class="n">lead_time</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">(</span><span class="n">inv_dataframe</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            <span class="n">inv_dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="n">lead_time</span><span class="p">,</span><span class="s1">&#39;Receipt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># no orders receipt in t+leadtime periods</span>
</pre></div>
</div>
</div>
</div>
<p>Now you can examine the results.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(s,S) = (&quot;</span><span class="p">,</span><span class="n">s_min</span><span class="p">,</span><span class="s2">&quot;,&quot;</span><span class="p">,</span><span class="n">s_max</span><span class="p">,</span><span class="s2">&quot;)&quot;</span><span class="p">)</span>
<span class="n">inv_dataframe</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(s,S) = ( 25 , 70 )
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Start_Inv</th>
      <th>Receipt</th>
      <th>Demand</th>
      <th>Ending_Inv</th>
      <th>Order</th>
    </tr>
    <tr>
      <th>Week</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>27</td>
      <td>0</td>
      <td>18</td>
      <td>9</td>
      <td>61</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>0</td>
      <td>16</td>
      <td>-7</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-7</td>
      <td>61</td>
      <td>13</td>
      <td>41</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>41</td>
      <td>0</td>
      <td>17</td>
      <td>24</td>
      <td>46</td>
    </tr>
    <tr>
      <th>5</th>
      <td>24</td>
      <td>0</td>
      <td>11</td>
      <td>13</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>13</td>
      <td>46</td>
      <td>20</td>
      <td>39</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>39</td>
      <td>0</td>
      <td>15</td>
      <td>24</td>
      <td>46</td>
    </tr>
    <tr>
      <th>8</th>
      <td>24</td>
      <td>0</td>
      <td>20</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>4</td>
      <td>46</td>
      <td>15</td>
      <td>35</td>
      <td>0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>35</td>
      <td>0</td>
      <td>10</td>
      <td>25</td>
      <td>0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>25</td>
      <td>0</td>
      <td>19</td>
      <td>6</td>
      <td>64</td>
    </tr>
    <tr>
      <th>12</th>
      <td>6</td>
      <td>0</td>
      <td>18</td>
      <td>-12</td>
      <td>0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>-12</td>
      <td>64</td>
      <td>12</td>
      <td>40</td>
      <td>0</td>
    </tr>
    <tr>
      <th>14</th>
      <td>40</td>
      <td>0</td>
      <td>13</td>
      <td>27</td>
      <td>0</td>
    </tr>
    <tr>
      <th>15</th>
      <td>27</td>
      <td>0</td>
      <td>13</td>
      <td>14</td>
      <td>56</td>
    </tr>
    <tr>
      <th>16</th>
      <td>14</td>
      <td>0</td>
      <td>14</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0</td>
      <td>56</td>
      <td>19</td>
      <td>37</td>
      <td>0</td>
    </tr>
    <tr>
      <th>18</th>
      <td>37</td>
      <td>0</td>
      <td>19</td>
      <td>18</td>
      <td>52</td>
    </tr>
    <tr>
      <th>19</th>
      <td>18</td>
      <td>0</td>
      <td>20</td>
      <td>-2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>-2</td>
      <td>52</td>
      <td>12</td>
      <td>38</td>
      <td>0</td>
    </tr>
    <tr>
      <th>21</th>
      <td>38</td>
      <td>0</td>
      <td>15</td>
      <td>23</td>
      <td>47</td>
    </tr>
    <tr>
      <th>22</th>
      <td>23</td>
      <td>0</td>
      <td>20</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23</th>
      <td>3</td>
      <td>47</td>
      <td>12</td>
      <td>38</td>
      <td>0</td>
    </tr>
    <tr>
      <th>24</th>
      <td>38</td>
      <td>0</td>
      <td>13</td>
      <td>25</td>
      <td>0</td>
    </tr>
    <tr>
      <th>25</th>
      <td>25</td>
      <td>0</td>
      <td>16</td>
      <td>9</td>
      <td>61</td>
    </tr>
    <tr>
      <th>26</th>
      <td>9</td>
      <td>0</td>
      <td>15</td>
      <td>-6</td>
      <td>0</td>
    </tr>
    <tr>
      <th>27</th>
      <td>-6</td>
      <td>61</td>
      <td>17</td>
      <td>38</td>
      <td>0</td>
    </tr>
    <tr>
      <th>28</th>
      <td>38</td>
      <td>0</td>
      <td>17</td>
      <td>21</td>
      <td>49</td>
    </tr>
    <tr>
      <th>29</th>
      <td>21</td>
      <td>0</td>
      <td>20</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>30</th>
      <td>1</td>
      <td>49</td>
      <td>15</td>
      <td>35</td>
      <td>0</td>
    </tr>
    <tr>
      <th>31</th>
      <td>35</td>
      <td>0</td>
      <td>19</td>
      <td>16</td>
      <td>54</td>
    </tr>
    <tr>
      <th>32</th>
      <td>16</td>
      <td>0</td>
      <td>15</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>33</th>
      <td>1</td>
      <td>54</td>
      <td>13</td>
      <td>42</td>
      <td>0</td>
    </tr>
    <tr>
      <th>34</th>
      <td>42</td>
      <td>0</td>
      <td>13</td>
      <td>29</td>
      <td>0</td>
    </tr>
    <tr>
      <th>35</th>
      <td>29</td>
      <td>0</td>
      <td>14</td>
      <td>15</td>
      <td>55</td>
    </tr>
    <tr>
      <th>36</th>
      <td>15</td>
      <td>0</td>
      <td>16</td>
      <td>-1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>37</th>
      <td>-1</td>
      <td>55</td>
      <td>13</td>
      <td>41</td>
      <td>0</td>
    </tr>
    <tr>
      <th>38</th>
      <td>41</td>
      <td>0</td>
      <td>15</td>
      <td>26</td>
      <td>0</td>
    </tr>
    <tr>
      <th>39</th>
      <td>26</td>
      <td>0</td>
      <td>18</td>
      <td>8</td>
      <td>62</td>
    </tr>
    <tr>
      <th>40</th>
      <td>8</td>
      <td>0</td>
      <td>11</td>
      <td>-3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>41</th>
      <td>-3</td>
      <td>62</td>
      <td>13</td>
      <td>46</td>
      <td>0</td>
    </tr>
    <tr>
      <th>42</th>
      <td>46</td>
      <td>0</td>
      <td>11</td>
      <td>35</td>
      <td>0</td>
    </tr>
    <tr>
      <th>43</th>
      <td>35</td>
      <td>0</td>
      <td>15</td>
      <td>20</td>
      <td>50</td>
    </tr>
    <tr>
      <th>44</th>
      <td>20</td>
      <td>0</td>
      <td>15</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>45</th>
      <td>5</td>
      <td>50</td>
      <td>18</td>
      <td>37</td>
      <td>0</td>
    </tr>
    <tr>
      <th>46</th>
      <td>37</td>
      <td>0</td>
      <td>12</td>
      <td>25</td>
      <td>0</td>
    </tr>
    <tr>
      <th>47</th>
      <td>25</td>
      <td>0</td>
      <td>16</td>
      <td>9</td>
      <td>61</td>
    </tr>
    <tr>
      <th>48</th>
      <td>9</td>
      <td>0</td>
      <td>17</td>
      <td>-8</td>
      <td>0</td>
    </tr>
    <tr>
      <th>49</th>
      <td>-8</td>
      <td>61</td>
      <td>15</td>
      <td>38</td>
      <td>0</td>
    </tr>
    <tr>
      <th>50</th>
      <td>38</td>
      <td>0</td>
      <td>17</td>
      <td>21</td>
      <td>49</td>
    </tr>
    <tr>
      <th>51</th>
      <td>21</td>
      <td>0</td>
      <td>17</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>52</th>
      <td>4</td>
      <td>49</td>
      <td>22</td>
      <td>31</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<hr class="docutils" />
<section id="step-3-plotting-data">
<h2>Step 3: Plotting data<a class="headerlink" href="#step-3-plotting-data" title="Permalink to this heading">#</a></h2>
<p>We can also visualize the data directly from the dataframe by taking on column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inv_dataframe</span><span class="p">[[</span><span class="s2">&quot;Ending_Inv&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>   <span class="c1"># plotting inv levels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;Week&#39;&gt;
</pre></div>
</div>
<img alt="../_images/db55e59b2579410d2e5ef3d8612a674a8984d24841a5d1dbdfad7559dfff7370.png" src="../_images/db55e59b2579410d2e5ef3d8612a674a8984d24841a5d1dbdfad7559dfff7370.png" />
</div>
</div>
<p>This can be done even for more than two columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inv_dataframe</span><span class="p">[[</span><span class="s2">&quot;Receipt&quot;</span><span class="p">,</span><span class="s2">&quot;Ending_Inv&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>   <span class="c1"># plotting inv and receipts and resize the plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;Week&#39;&gt;
</pre></div>
</div>
<img alt="../_images/df11c20f1861eea454f8669344f36aab3b7b7f8c3a71713809211ffa4abef426.png" src="../_images/df11c20f1861eea454f8669344f36aab3b7b7f8c3a71713809211ffa4abef426.png" />
</div>
</div>
<p>or histogram</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="../_images/93ae2237bf31db87c5b679a55a37625a9491577b8bf1d0d270f56677691e39b4.png" src="../_images/93ae2237bf31db87c5b679a55a37625a9491577b8bf1d0d270f56677691e39b4.png" />
</div>
</div>
</section>
<section id="step-4-summarizing-the-results">
<h2>Step 4: Summarizing the results<a class="headerlink" href="#step-4-summarizing-the-results" title="Permalink to this heading">#</a></h2>
<p>We can also use the functions in DataFrame to summarize the results.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.lt.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.lt.html</a> for more details.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">backlog_num</span> <span class="o">=</span> <span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">backlog_total_units</span> <span class="o">=</span> <span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="c1">#this number is negative</span>
<span class="n">demand_total</span> <span class="o">=</span> <span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Demand&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">order_total</span> <span class="o">=</span> <span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Order&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">order_num</span> <span class="o">=</span> <span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Order&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">inv_total_units</span> <span class="o">=</span> <span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Performance of (s,S) = (&quot;</span><span class="p">,</span><span class="n">s_min</span><span class="p">,</span><span class="s2">&quot;,&quot;</span><span class="p">,</span><span class="n">s_max</span><span class="p">,</span><span class="s2">&quot;) under demand scenartio:&quot;</span><span class="p">,</span><span class="n">demand_series</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total number of orders =&quot;</span><span class="p">,</span><span class="n">order_num</span><span class="p">,</span><span class="s2">&quot;, Average order quantity =&quot;</span><span class="p">,</span><span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">order_total</span><span class="o">/</span><span class="n">order_num</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average inventory per week =&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">inv_total_units</span><span class="o">/</span><span class="n">n_weeks</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average number of backlogged units per week =&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">backlog_total_units</span><span class="o">/</span><span class="n">n_weeks</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;N. backlog incidents =&quot;</span><span class="p">,</span> <span class="n">inv_dataframe</span><span class="p">[</span><span class="s1">&#39;Ending_Inv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Service Level =&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">((</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">backlog_num</span><span class="o">/</span><span class="n">n_weeks</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s2">&quot;%&quot;</span><span class="p">)</span> <span class="c1"># % of times the demand is completely fulfilled</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fill rate =&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(((</span><span class="n">demand_total</span> <span class="o">+</span> <span class="n">backlog_total_units</span><span class="p">)</span><span class="o">/</span><span class="n">demand_total</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>  <span class="c1"># % of quantity fulfilled on-time</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Performance of (s,S) = ( 25 , 70 ) under demand scenartio: Scenario1
Total number of orders = 15 , Average order quantity = 54.20
Average inventory per week = 19.92
Average number of backlogged units per week = -0.75
N. backlog incidents = 7
Service Level = 86.54 %
Fill rate = 95.18 %
</pre></div>
</div>
</div>
</div>
</section>
<section id="playing-with-the-code">
<h2>Playing with the code:<a class="headerlink" href="#playing-with-the-code" title="Permalink to this heading">#</a></h2>
<p>You can now repeat the process above with a different demand scenario (e.g., choosing the ‘Scenario2’ or ‘Scenario3’ and vary the inventory control parameters <code class="docutils literal notranslate"><span class="pre">s_min</span></code> and <code class="docutils literal notranslate"><span class="pre">s_max</span></code> and explore the results.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Case3_1_Disruption_Risk_Analytics.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Demo: Supply Chain Distruption Risk Analytics</p>
      </div>
    </a>
    <a class="right-next"
       href="Ex_Bass_diffusion_full_demo.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Bass Diffusion - full demo</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">(R, s, S) Inventory Simulation</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inventory-simulation-using-pandas">Inventory simulation using pandas</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-reading-data">Step 1: Reading data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-simulation-and-output-a-dataframe-object">Step 2: Simulation and output a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> object</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-plotting-data">Step 3: Plotting data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-summarizing-the-results">Step 4: Summarizing the results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#playing-with-the-code">Playing with the code:</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Yossiri Adulyasak
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>